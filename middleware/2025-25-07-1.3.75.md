---
authors: poscreator
slug: middleware/1.3.75, middleware/1.2
tags: [Middleware, Germany, Austria, France, Greece,]
---

# Middleware 1.3.75
 [![Static Badge](https://img.shields.io/badge/milestone-v1.3.75-green?logo=github)](https://github.com/fiskaltrust/middleware/milestone/7?closed=1)

 
In this version of the Middleware, our focus was on a range of improvements and fixes tailored primarily for the German market, with early feature support for Greece..
<!--truncate-->

:::caution

Version 1.3 of the Middleware is meant for the German and Italian markets only (with Spain, Greece, and Portugal currently in the works).
Customers in Austria and France should continue to use version 1.2.
We are currently testing a unified version for all markets.

:::

## ðŸ‡©ðŸ‡ª Feature: Better error handling for HTTP requests in SwissbitCloudV2ApiProvider ([fiskaltrust/middleware#458](https://github.com/fiskaltrust/middleware/issues/458))
## ÉžÊ€ Feature: Introducing additional receipt types ([fiskaltrust/middleware#458](https://github.com/fiskaltrust/middleware/issues/458))

These changes introduce enhancements to the handling of receipt references across multiple modules for better support of array-based references and improved error handling

### Affected packages:
- _fiskaltrust.Middleware.Queue.*_

## ðŸ‡©ðŸ‡ª Feature: Performance improvements for Azure Table Storage-based Queues ([fiskaltrust/middleware#454](https://github.com/fiskaltrust/middleware/issues/454))
### Affected packages:
- _fiskaltrust.Middleware.Queue.AzureTableStorage
- _fiskaltrust.Middleware.SCU.DE.SwissbitCloudV2
- _fiskaltrust.Middleware.SCU.DE.FisskalyCertified
  
## ðŸ‡©ðŸ‡ª Bug Fix: TAR Export on Out-Of-Operation Receipt does not include last signature  ([fiskaltrust/middleware#460](https://github.com/fiskaltrust/middleware/issues/460))

Since a TAR-File Export is also performed in the Out-Of-Operation Receipt, it should include  all the latest TAR-File data when the queue is decommissioned.
However, a bug caused the export to occur before the final receipt signature was generated, resulting in the last queue signature being missing from the TAR-File.

:::info

The bug was fixed, and the export now correctly takes place after the final signature is created and before the client is deregistered.

### Affected packages:
- _fiskaltrust.Middleware.Queue.*_
  
## ðŸ‡©ðŸ‡ª Bug Fix: Fiskaly Exports not using the Temp folder ([fiskaltrust/middleware#461](https://github.com/fiskaltrust/middleware/issues/461))
## Bug Fix: Don't return EEEE_EEEE responses by ReceiptRequest flag ([fiskaltrust/middleware#469](https://github.com/fiskaltrust/middleware/issues/469))

In the past, we introduced the ftState 0xEEEE_EEEE error in V2 tagging such that a QueueItem was created and the error was logged, but it wasnâ€™t included in the response to avoid disrupting existing installations. In contrast, in V1 tagging, the error is returned directly in the response.

This could result in a situation where a receipt fails under V1, returning a 500 error, and internally a QueueItem with ftState 0xEEEE_EEEE is generated. When the POS system retries the receipt using the Receipt-Request Flag, the system returns the previously failed receipt (with the ftState 0xEEEE_EEEE) instead of returning an empty result.

:::info

This issue has been resolved. Now, when a receipt with ftState 0xEEEE_EEEE is requested using the Receipt-Request Flag, it will only be returned if V2 tagging is used in the request.

### Affected packages:
- _fiskaltrust.Middleware.Queue.*_
## ðŸ‡©ðŸ‡ª Feature: Daily-Closing Flag which closes all open transactions ([fiskaltrust/middleware#212](https://github.com/fiskaltrust/middleware/issues/212))

We introduced a new ftReceiptCaseFlag (0x0000000200000000) to the Daily Closing, which closes all open transactions on the TSE when a daily closing is performed.

:::info

This solves the problem of open transactions from other queues in a setup where multiple queues are used on one TSE.

:::

### Affected packages:
- _fiskaltrust.Middleware.Queue.*_
