---
authors: poscreator
slug: middleware/1.3.78
tags: [Middleware, Germany, Austria, Italy, Denmark, Belgium, Portugal, Greece]
---
# Middleware 1.3.78
[![Static Badge](https://img.shields.io/badge/milestone-v1.3.78-green?logo=github)](https://github.com/fiskaltrust/middleware/milestone/10?closed=1)

This release includes stability improvements and fixes for the **German** and **Italian** markets, as well as the 1.3 preview for the **Austrian** market.

:::info

Version 1.3 of the Middleware is intended for the German and Italian markets only (with Belgium, Denmark, Greece, Portugal, and Spain currently in development).
Customers in Austria and France should continue to use version 1.2.
A preview of the unified 1.3 Middleware for Austria and France is already available.

:::

## ðŸ‡®ðŸ‡¹ Feature: Added Support for Unreferenced Refunds with Epson RT Printers ([fiskaltrust/middleware#515](https://github.com/fiskaltrust/middleware/pull/515))

With this release, we have added support for performing unreferenced refunds with Epson RT Printer based SCUs.  
This allows us to support this scenario across all currently available SCUs.

While we still recommend using referenced refunds in most cases, there are situations that require the cashier to perform unreferenced refunds (e.g., when the original receipt was lost).

### Affected packages:
- _fiskaltrust.Middleware.Queue.AzureTableStorage_
- _fiskaltrust.Middleware.Queue.SQLite_
- _fiskaltrust.Middleware.Queue.EF_
- _fiskaltrust.Middleware.Queue.MySQL_
- _fiskaltrust.Middleware.SCU.IT.EpsonRTPrinter_

## ðŸ‡©ðŸ‡ª Fix: Corrected Public Key Handling for SwissbitCloudV2 SCU ([fiskaltrust/middleware#503](https://github.com/fiskaltrust/middleware/pull/503))

We've fixed an issue where the wrong public key was displayed in the QR code for SwissbitCloudV2 SCUs.  
This fix has already been rolled out to the cloudcashbox.

### Affected packages:
- _fiskaltrust.Middleware.SCU.DE.SwissbitCloudV2_

## ðŸ‡©ðŸ‡ª Fix: Improved SCU Switch Stability ([fiskaltrust/middleware#525](https://github.com/fiskaltrust/middleware/pull/525))

We've fixed a problem where the Finish-SCU-Switch receipt would fail if the old SCU was in a broken state.

### Affected packages:
- _fiskaltrust.Middleware.Queue.AzureTableStorage_
- _fiskaltrust.Middleware.Queue.SQLite_
- _fiskaltrust.Middleware.Queue.EF_
- _fiskaltrust.Middleware.Queue.MySQL_

## ðŸ‡©ðŸ‡ª Feature: Improved DSFinV-K export

We've improved the DSFinV-K export on multiple fronts.  
- Include none VAT receipts
- Fix Bestellung-V1
- Add default values for REF_NAME
- Eliminate multiple entries allocation_groups.
- Use calculation on `UMS_BRUTTO` for vouchers

### Affected packages:
- _fiskaltrust.Middleware.Queue.AzureTableStorage_
- _fiskaltrust.Middleware.Queue.SQLite_
- _fiskaltrust.Middleware.Queue.EF_
- _fiskaltrust.Middleware.Queue.MySQL_

## ðŸ‡¦ðŸ‡¹ Feature: Improved Startup Performance ([fiskaltrust/middleware#539](https://github.com/fiskaltrust/middleware/pull/539))

We've improved the startup performance of the queue, specifically the performance of the first receipt processed after queue startup.

### Affected packages:
- _fiskaltrust.Middleware.Queue.AzureTableStorage_
- _fiskaltrust.Middleware.Queue.SQLite_
- _fiskaltrust.Middleware.Queue.EF_
- _fiskaltrust.Middleware.Queue.MySQL_

## ðŸ‡¦ðŸ‡¹ Fix: Backup SCU Handling ([fiskaltrust/middleware#483](https://github.com/fiskaltrust/middleware/pull/483))

We've fixed a problem with the handling of backup SCUs. Now, when a normal SCU is not available, the backup SCU is used correctly and the `ftState` flag `0x80` is returned when a backup SCU is used.

### Affected packages:
- _fiskaltrust.Middleware.Queue.AzureTableStorage_
- _fiskaltrust.Middleware.Queue.SQLite_
- _fiskaltrust.Middleware.Queue.EF_
- _fiskaltrust.Middleware.Queue.MySQL_


